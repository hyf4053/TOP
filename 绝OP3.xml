<?xml version="1.0"?>
<TriggernometryExport Version="1">
  <ExportedFolder Id="e16db4e4-4a5c-4882-b090-64958e91ad68" Name="P2.5新版" Enabled="true">
    <Folders />
    <Triggers>
      <Trigger Enabled="true" Source="FFXIVNetwork" Sequential="True" Name="分摊" Id="15c6deb8-176d-4d4f-8976-969161c8cf31" RegularExpression="^26\|[^|]*\|D62\|[^|]*\|[^|]*\|[^|]*\|[^|]*\|[^|]*\|(?&lt;name&gt;[^|]*)\|" Description="3.将点分摊的人记录到list中">
        <Actions>
          <Action OrderNumber="1" UseTTSTextExpression="分摊" ActionType="UseTTS">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="2" ListVariableOp="Push" ListVariableName="StackList" ListVariableExpression="${name}" ActionType="ListVariable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionSingle Enabled="true" ExpressionL="${lvar:StackList.size}" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLess" />
            </Condition>
          </Action>
          <Action OrderNumber="3" TriggerId="621fb046-6fae-4acb-bf0c-2aa0bbba9676" TriggerForce="regexp,conditions" ActionType="Trigger">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="4" LogMessageText="MarkingNoBuffTarget" LogProcess="True" TriggerId="52153da5-b117-4ba4-acab-6914429b336e" TriggerForce="regexp,conditions" ActionType="Trigger" Description="两个都有这个判断，因为不确定谁会先出现buff，但总有最后一个出现的时候全部的条件达成">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${lvar:SpreadList.size}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
              <ConditionSingle Enabled="true" ExpressionL="${lvar:StackList.size}" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
            </Condition>
          </Action>
          <Action OrderNumber="5" LogMessageText="MarkingNoBuffTarget" LogProcess="True" Enabled="False" ActionType="LogMessage" Description="两个都有这个判断，因为不确定谁会先出现buff，但总有最后一个出现的时候全部的条件达成">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${lvar:SpreadList.size}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
              <ConditionSingle Enabled="true" ExpressionL="${lvar:StackList.size}" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
            </Condition>
          </Action>
          <Action OrderNumber="6" LogMessageText="MarkingStackTarget|${name}" LogProcess="True" Enabled="False" ActionType="LogMessage">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="7" UseTTSTextExpression="${name}" VariableOp="SetNumeric" VariableName="SelfBuff" VariableExpression="1" Enabled="False" ActionType="Variable">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="8" VariableOp="SetNumeric" VariableName="StackNum" VariableExpression="${var:StackNum}+1" Enabled="False" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Source="FFXIVNetwork" Sequential="True" Name="分散" Id="51d671de-a643-415c-be6f-c0f9fe25dcc3" RegularExpression="^26\|[^|]*\|D61\|[^|]*\|[^|]*\|[^|]*\|[^|]*\|[^|]*\|(?&lt;name&gt;[^|]*)\|" Description="1.发送自定义log&#xD;&#xA;2.报分散&#xD;&#xA;3.设置自己为分散变量&#xD;&#xA;4.将自己的名字压入SpreadList&#xD;&#xA;5.分散计数器+1">
        <Actions>
          <Action OrderNumber="0" UseTTSTextExpression="分散" ActionType="UseTTS">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="1" ListVariableOp="Push" ListVariableName="SpreadList" ListVariableExpression="${name}" ActionType="ListVariable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionSingle Enabled="true" ExpressionL="${lvar:SpreadList.size}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLess" />
            </Condition>
          </Action>
          <Action OrderNumber="2" TriggerId="1cf7508f-a590-462e-ae5d-66081b599c3e" TriggerForce="regexp,conditions" ActionType="Trigger">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="4" LogMessageText="MarkingSpreadTarget|${name}" LogProcess="True" Enabled="False" ActionType="LogMessage">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="4" UseTTSTextExpression="${name}" VariableOp="SetNumeric" VariableName="SelfBuff" VariableExpression="0" Enabled="False" ActionType="Variable">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
            </Condition>
          </Action>
          <Action OrderNumber="6" VariableOp="SetNumeric" VariableName="SpreadNum" VariableExpression="${var:SpreadNum}+1" Enabled="False" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="7" LogMessageText="MarkingNoBuffTarget" LogProcess="True" TriggerId="52153da5-b117-4ba4-acab-6914429b336e" TriggerForce="regexp,conditions" ActionType="Trigger" Description="两个都有这个判断，因为不确定谁会先出现buff，但总有最后一个出现的时候全部的条件达成">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${lvar:SpreadList.size}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
              <ConditionSingle Enabled="true" ExpressionL="${lvar:StackList.size}" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
            </Condition>
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Name="无点名" Id="52153da5-b117-4ba4-acab-6914429b336e" RegularExpression="">
        <Actions>
          <Action OrderNumber="1" TriggerId="0377553e-8a22-485b-acfa-e153b1330988" TriggerForce="regexp,conditions" ActionType="Trigger">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="2" UseTTSTextExpression="无点名" ActionType="UseTTS">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
    </Triggers>
  </ExportedFolder>
</TriggernometryExport>